andreas@ubuntu:~/Downloads/PaycheckApp-claude-rename-to-kost-EvJUV$ sudo docker compose down -v
sudo docker compose build --no-cache
sudo docker compose up -d
sleep 15
sudo npm run db:migrate
sudo npm run db:seed
[+] down 2/2
 ✔ Volume paycheckapp-claude-rename-to-kost-evjuv5_postgres_data Removed    0.0s
 ✔ Network paycheckapp-claude-rename-to-kost-evjuv5_kost         Removed    0.1s
[+] Building 83.7s (45/45) FINISHED                                             
 => [internal] load local bake definitions                                 0.0s
 => => reading from stdin 1.39kB                                           0.0s
 => [api internal] load build definition from Dockerfile                   0.0s
 => => transferring dockerfile: 1.97kB                                     0.0s
 => [web internal] load build definition from Dockerfile                   0.0s
 => => transferring dockerfile: 1.02kB                                     0.0s
 => [web internal] load metadata for docker.io/library/node:20-alpine      0.4s
 => [web internal] load metadata for docker.io/library/nginx:1.25-alpine   0.4s
 => [api internal] load .dockerignore                                      0.0s
 => => transferring context: 2B                                            0.0s
 => [api builder  1/10] FROM docker.io/library/node:20-alpine@sha256:09e2  0.0s
 => CACHED [web stage-1 1/3] FROM docker.io/library/nginx:1.25-alpine@sha  0.0s
 => [web internal] load build context                                      1.0s
 => => transferring context: 3.17kB                                        1.0s
 => CACHED [api builder  2/10] WORKDIR /app                                0.0s
 => [api internal] load build context                                      1.1s
 => => transferring context: 5.38kB                                        1.1s
 => [api stage-1  3/13] RUN apk add --no-cache dumb-init                   0.8s
 => [web stage-1 2/3] COPY apps/web/nginx.conf /etc/nginx/conf.d/default.  0.0s 
 => [api builder  3/10] COPY package*.json ./                              0.0s
 => [api builder  4/10] COPY tsconfig.base.json ./                         0.0s
 => [web builder  5/10] COPY packages ./packages                           0.0s
 => [api stage-1  4/13] COPY package*.json ./                              0.0s
 => CACHED [api builder  3/11] COPY package*.json ./                       0.0s
 => CACHED [api builder  4/11] COPY tsconfig.base.json ./                  0.0s
 => CACHED [api builder  5/11] COPY packages ./packages                    0.0s
 => [api builder  6/11] COPY apps/api ./apps/api                           0.0s
 => [api stage-1  5/13] COPY packages/shared/package.json ./packages/shar  0.1s
 => [web builder  6/10] COPY apps/web ./apps/web                           0.1s
 => [api builder  7/11] RUN npm ci --workspace=apps/api --workspace=pack  58.1s
 => [web builder  7/10] RUN npm ci --workspace=apps/web --workspace=pack  50.3s
 => [api stage-1  6/13] COPY apps/api/package.json ./apps/api/             0.1s
 => [api stage-1  7/13] RUN npm ci --workspace=apps/api --workspace=pack  16.1s
 => [web builder  8/10] RUN npm run build --workspace=packages/shared      3.3s
 => [web builder  9/10] WORKDIR /app/apps/web                              0.1s
 => [web builder 10/10] RUN npm run build                                 28.1s
 => [api builder  8/11] RUN npm run build --workspace=packages/shared      3.2s
 => [api builder  9/11] WORKDIR /app/apps/api                              0.1s
 => [api builder 10/11] RUN npx prisma generate                            3.0s
 => [api builder 11/11] RUN npm run build                                  9.1s
 => [api stage-1  8/13] COPY --from=builder /app/node_modules/.prisma ./n  0.2s
 => [api stage-1  9/13] COPY --from=builder /app/apps/api/dist ./apps/api  0.1s
 => [api stage-1 10/13] COPY --from=builder /app/apps/api/prisma ./apps/a  0.1s
 => [api stage-1 11/13] COPY --from=builder /app/packages/shared/dist ./p  0.1s
 => [api stage-1 12/13] RUN addgroup -g 1001 -S nodejs &&     adduser -S   0.2s
 => [api stage-1 13/13] WORKDIR /app/apps/api                              0.1s
 => [api] exporting to image                                               3.3s
 => => exporting layers                                                    3.3s
 => => writing image sha256:104338061dab7cbd1998be29438a8eb0ad65ffdc43ce1  0.0s
 => => naming to docker.io/library/paycheckapp-claude-rename-to-kost-evju  0.0s
 => [api] resolving provenance for metadata file                           0.0s
 => [web stage-1 3/3] COPY --from=builder /app/apps/web/dist /usr/share/n  0.0s
 => [web] exporting to image                                               0.1s
 => => exporting layers                                                    0.0s
 => => writing image sha256:03ad0f501c572deffcaca329a5ffba21e3a89882febf5  0.0s
 => => naming to docker.io/library/paycheckapp-claude-rename-to-kost-evju  0.0s
 => [web] resolving provenance for metadata file                           0.0s
[+] build 2/2
 ✔ Image paycheckapp-claude-rename-to-kost-evjuv5-api Built                83.7s
 ✔ Image paycheckapp-claude-rename-to-kost-evjuv5-web Built                83.7s
[+] up 5/5
 ✔ Network paycheckapp-claude-rename-to-kost-evjuv5_kost         Created   0.0ss
 ✔ Volume paycheckapp-claude-rename-to-kost-evjuv5_postgres_data Created   0.0ss
 ✔ Container kost-db                                             Healthy   10.8s
 ✔ Container kost-web                                            Created   0.0ss
 ✔ Container kost-api                                            Created   0.0ss

> kost@1.0.0 db:migrate
> npm run migrate --workspace=apps/api


> @kost/api@1.0.0 migrate
> prisma migrate dev

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database

Error: Prisma schema validation - (get-config wasm)
Error code: P1012
error: Environment variable not found: DATABASE_URL.
  -->  prisma/schema.prisma:7
   | 
 6 |   provider = "postgresql"
 7 |   url      = env("DATABASE_URL")
   | 

Validation Error Count: 1
[Context: getConfig]

Prisma CLI Version : 5.22.0
npm ERR! Lifecycle script `migrate` failed with error: 
npm ERR! Error: command failed 
npm ERR!   in workspace: @kost/api@1.0.0 
npm ERR!   at location: /home/andreas/.local/share/Trash/files/PaycheckApp-claude-rename-to-kost-EvJUV.5/apps/api 

> kost@1.0.0 db:seed
> npm run seed --workspace=apps/api


> @kost/api@1.0.0 seed
> ts-node prisma/seed.ts

/home/andreas/.local/share/Trash/files/PaycheckApp-claude-rename-to-kost-EvJUV.5/node_modules/ts-node/src/index.ts:859
    return new TSError(diagnosticText, diagnosticCodes, diagnostics);
           ^
TSError: ⨯ Unable to compile TypeScript:
prisma/seed.ts:1:24 - error TS2305: Module '"@prisma/client"' has no exported member 'DistributionMethod'.

1 import { PrismaClient, DistributionMethod, UserRole, PeriodStatus, IncomeType } from '@prisma/client';
                         ~~~~~~~~~~~~~~~~~~
prisma/seed.ts:1:44 - error TS2305: Module '"@prisma/client"' has no exported member 'UserRole'.

1 import { PrismaClient, DistributionMethod, UserRole, PeriodStatus, IncomeType } from '@prisma/client';
                                             ~~~~~~~~
prisma/seed.ts:1:54 - error TS2305: Module '"@prisma/client"' has no exported member 'PeriodStatus'.

1 import { PrismaClient, DistributionMethod, UserRole, PeriodStatus, IncomeType } from '@prisma/client';
                                                       ~~~~~~~~~~~~
prisma/seed.ts:1:68 - error TS2305: Module '"@prisma/client"' has no exported member 'IncomeType'.

1 import { PrismaClient, DistributionMethod, UserRole, PeriodStatus, IncomeType } from '@prisma/client';
                                                                     ~~~~~~~~~~

    at createTSError (/home/andreas/.local/share/Trash/files/PaycheckApp-claude-rename-to-kost-EvJUV.5/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/home/andreas/.local/share/Trash/files/PaycheckApp-claude-rename-to-kost-EvJUV.5/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/home/andreas/.local/share/Trash/files/PaycheckApp-claude-rename-to-kost-EvJUV.5/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/home/andreas/.local/share/Trash/files/PaycheckApp-claude-rename-to-kost-EvJUV.5/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/home/andreas/.local/share/Trash/files/PaycheckApp-claude-rename-to-kost-EvJUV.5/node_modules/ts-node/src/index.ts:1617:30)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Object.require.extensions.<computed> [as .ts] (/home/andreas/.local/share/Trash/files/PaycheckApp-claude-rename-to-kost-EvJUV.5/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Function.Module._load (node:internal/modules/cjs/loader:1013:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:128:12) {
  diagnosticCodes: [ 2305, 2305, 2305, 2305 ]
}
npm ERR! Lifecycle script `seed` failed with error: 
npm ERR! Error: command failed 
npm ERR!   in workspace: @kost/api@1.0.0 
npm ERR!   at location: /home/andreas/.local/share/Trash/files/PaycheckApp-claude-rename-to-kost-EvJUV.5/apps/api 
