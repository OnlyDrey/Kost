andreas@ubuntu:~/Downloads/PaycheckApp-claude-family-finance-pwa-mvp-E8Cgc$ docker compose up -d
WARN[0000] The "SMTP_USER" variable is not set. Defaulting to a blank string. 
WARN[0000] The "SMTP_HOST" variable is not set. Defaulting to a blank string. 
WARN[0000] The "MAGIC_LINK_SECRET" variable is not set. Defaulting to a blank string. 
WARN[0000] The "SMTP_PASSWORD" variable is not set. Defaulting to a blank string. 
unable to get image 'paycheckapp-claude-family-finance-pwa-mvp-e8cgc-api': permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get "http://%2Fvar%2Frun%2Fdocker.sock/v1.51/images/paycheckapp-claude-family-finance-pwa-mvp-e8cgc-api/json": dial unix /var/run/docker.sock: connect: permission denied
andreas@ubuntu:~/Downloads/PaycheckApp-claude-family-finance-pwa-mvp-E8Cgc$ sudo docker compose up -d
WARN[0000] The "SMTP_USER" variable is not set. Defaulting to a blank string. 
WARN[0000] The "SMTP_HOST" variable is not set. Defaulting to a blank string. 
WARN[0000] The "MAGIC_LINK_SECRET" variable is not set. Defaulting to a blank string. 
WARN[0000] The "SMTP_PASSWORD" variable is not set. Defaulting to a blank string. 
[+] Building 52.1s (28/38)                                                      
 => [internal] load local bake definitions                                 0.0s
 => => reading from stdin 1.33kB                                           0.0s
 => [api internal] load build definition from Dockerfile                   0.0s
 => => transferring dockerfile: 1.46kB                                     0.0s
 => [web internal] load build definition from Dockerfile                   0.0s
 => => transferring dockerfile: 907B                                       0.0s
 => [api internal] load metadata for docker.io/library/node:20-alpine      0.4s
 => [web internal] load metadata for docker.io/library/nginx:1.25-alpine   0.4s
 => [web internal] load .dockerignore                                      0.0s
 => => transferring context: 2B                                            0.0s
 => [api internal] load build context                                      0.6s
 => => transferring context: 831.22kB                                      0.6s
 => [web builder  1/10] FROM docker.io/library/node:20-alpine@sha256:09e2  0.0s
 => CACHED [api builder  2/10] WORKDIR /app                                0.0s
 => CACHED [api stage-1  3/12] RUN apk add --no-cache dumb-init            0.0s
 => [web stage-1 1/3] FROM docker.io/library/nginx:1.25-alpine@sha256:516  0.0s
 => [web internal] load build context                                      0.6s
 => => transferring context: 774.14kB                                      0.5s
 => [api builder 3/9] COPY package*.json ./                                0.1s
 => CACHED [web stage-1 2/3] COPY apps/web/nginx.conf /etc/nginx/conf.d/d  0.0s
 => [web builder 4/9] COPY tsconfig.base.json ./                           0.0s
 => [web builder 5/9] COPY packages ./packages                             0.0s
 => [web builder 6/9] COPY apps/web ./apps/web                             0.0s
 => CACHED [api builder  3/10] COPY package*.json ./                       0.0s
 => CACHED [api builder  4/10] COPY tsconfig.base.json ./                  0.0s
 => CACHED [api builder  5/10] COPY packages ./packages                    0.0s
 => [api builder  6/10] COPY apps/api ./apps/api                           0.1s
 => [web builder 7/9] RUN npm ci --workspace=apps/web --workspace=packag  33.9s
 => [api builder  7/10] RUN npm ci --workspace=apps/api --workspace=pack  40.0s
 => [web builder 8/9] WORKDIR /app/apps/web                                0.0s
 => CANCELED [web builder 9/9] RUN npm run build                          16.9s
 => [api builder  8/10] WORKDIR /app/apps/api                              0.0s
 => [api builder  9/10] RUN npx prisma generate                            2.5s
 => ERROR [api builder 10/10] RUN npm run build                            8.1s
------
 > [api builder 10/10] RUN npm run build:
0.394 
0.394 > @family-finance/api@1.0.0 prebuild
0.394 > rimraf dist
0.394 
0.457 
0.457 > @family-finance/api@1.0.0 build
0.457 > nest build
0.457 
8.018 src/invoices/allocation.service.ts:7:8 - error TS2307: Cannot find module '@family-finance/shared' or its corresponding type declarations.
8.018 
8.018 7 } from "@family-finance/shared";
8.018          ~~~~~~~~~~~~~~~~~~~~~~~~
8.018 
8.026 Found 1 error(s).
8.026 
8.047 npm error Lifecycle script `build` failed with error:
8.047 npm error code 1
8.047 npm error path /app/apps/api
8.048 npm error workspace @family-finance/api@1.0.0
8.048 npm error location /app/apps/api
8.048 npm error command failed
8.048 npm error command sh -c nest build
------
[+] up 0/2
 ⠙ Image paycheckapp-claude-family-finance-pwa-mvp-e8cgc-web Building      52.1s
 ⠙ Image paycheckapp-claude-family-finance-pwa-mvp-e8cgc-api Building      52.1s
Dockerfile:20

--------------------

  18 |     

  19 |     # Build application

  20 | >>> RUN npm run build

  21 |     

  22 |     # Production stage

--------------------

target api: failed to solve: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1

andreas@ubuntu:~/Downloads/PaycheckApp-claude-family-finance-pwa-mvp-E8Cgc$ 
